module.exports=[85930,(a,b,c)=>{"use strict";b.exports=a.r(22912).vendored["react-ssr"].ReactJsxRuntime},16696,a=>{"use strict";var b=a.i(85930),c=a.i(49050),d=a.i(88746),e=a.i(62413);function f({onCapture:a,isLoading:f=!1}){let g=(0,c.useRef)(null),h=(0,c.useRef)(null),[i,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)(!1);return((0,c.useEffect)(()=>((async()=>{try{console.log("Requesting camera access...");let a=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});g.current&&(g.current.srcObject=a,j(!0))}catch(a){console.error("Camera access denied:",a),j(!1)}})(),()=>{g.current?.srcObject&&g.current.srcObject.getTracks().forEach(a=>a.stop())}),[]),!1===i)?(0,b.jsx)(e.Card,{className:"p-8 text-center",children:(0,b.jsx)("p",{className:"text-red-500 mb-4",children:"Camera permission denied. Please enable camera access in your browser settings."})}):null===i?(0,b.jsx)(e.Card,{className:"p-8 text-center",children:"Requesting camera access..."}):(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"relative rounded-lg overflow-hidden border-2 border-primary/30 bg-black",children:[(0,b.jsx)("video",{ref:g,autoPlay:!0,playsInline:!0,className:"w-full aspect-video object-cover"}),(0,b.jsx)("canvas",{ref:h,className:"hidden"}),(0,b.jsx)("div",{className:"absolute inset-0 pointer-events-none",children:(0,b.jsx)("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2",children:(0,b.jsx)("div",{className:"w-64 h-24 border-2 border-yellow-400 rounded-lg opacity-75"})})})]}),(0,b.jsx)(d.Button,{onClick:()=>{if(h.current&&g.current){let b=h.current.getContext("2d");b&&(h.current.width=g.current.videoWidth,h.current.height=g.current.videoHeight,b.drawImage(g.current,0,0),a(h.current.toDataURL("image/jpeg")))}},disabled:f,className:"w-full bg-primary hover:bg-primary/90",size:"lg",children:f?"Processing...":"Capture License Plate"})]})}a.s(["CameraCapture",()=>f])},90119,a=>{"use strict";var b=a.i(85930),c=a.i(49050),d=a.i(88746),e=a.i(62413),f=a.i(16696);function g(){let[a,g]=(0,c.useState)("scan"),[h,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)(null),[l,m]=(0,c.useState)(!1),n=async a=>{i(!0),m(!1);try{let b=await fetch("/api/scan",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({licensePlateImage:a})}),c=await b.json();c.success&&c.student?k(c.student):m(!0),g("results")}catch(a){console.error("Scan error:",a),m(!0),g("results")}finally{i(!1)}};return(0,b.jsx)("main",{className:"min-h-screen bg-gradient-to-b from-background to-muted py-12",children:(0,b.jsxs)("div",{className:"max-w-2xl mx-auto px-4",children:[(0,b.jsxs)("div",{className:"mb-12",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Vehicle Verification"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Scan a license plate to verify vehicle registration and view student details."})]}),"scan"===a&&(0,b.jsxs)(e.Card,{className:"p-8 space-y-6",children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold",children:"Scan License Plate"}),(0,b.jsx)(f.CameraCapture,{onCapture:n,isLoading:h})]}),"results"===a&&(0,b.jsx)("div",{className:"space-y-6",children:l?(0,b.jsxs)(e.Card,{className:"p-8 text-center space-y-6 border-red-200 bg-red-50",children:[(0,b.jsx)("div",{className:"text-5xl",children:"❌"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold text-red-900 mb-2",children:"Vehicle Not Registered"}),(0,b.jsx)("p",{className:"text-red-700",children:"This license plate is not registered in our system. Please contact the parking office."})]}),(0,b.jsx)(d.Button,{onClick:()=>g("scan"),className:"w-full bg-primary hover:bg-primary/90",size:"lg",children:"Scan Another Plate"})]}):j?(0,b.jsxs)(e.Card,{className:"p-8 space-y-6 border-green-200 bg-green-50",children:[(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"text-5xl mb-2",children:"✅"}),(0,b.jsx)("h2",{className:"text-2xl font-semibold text-green-900",children:"Vehicle Registered"})]}),(0,b.jsx)("div",{className:"bg-white p-6 rounded-lg space-y-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Student Name"}),(0,b.jsx)("p",{className:"text-xl font-semibold text-foreground",children:j.studentName})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"USN"}),(0,b.jsx)("p",{className:"text-xl font-semibold text-foreground",children:j.usn})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Hostel Room"}),(0,b.jsx)("p",{className:"text-xl font-semibold text-foreground",children:j.hostelRoom})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Vehicle Number"}),(0,b.jsx)("p",{className:"text-xl font-semibold text-primary",children:j.vehicleNumber})]}),(0,b.jsxs)("div",{className:"md:col-span-2",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Registration Date"}),(0,b.jsx)("p",{className:"text-lg font-medium text-foreground",children:new Date(j.registrationDate).toLocaleDateString()})]})]})}),(0,b.jsx)(d.Button,{onClick:()=>{g("scan"),k(null)},className:"w-full bg-primary hover:bg-primary/90",size:"lg",children:"Scan Another Plate"})]}):null})]})})}a.s(["default",()=>g])}];

//# sourceMappingURL=OneDrive_Documents_NO%20SQL_PARKING-METERNOSQL-main_08ed6fd6._.js.map